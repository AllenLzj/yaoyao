<extend name="common/layout"/><block name="style"></block><block name="main-body">    <form>        <volist name="menus" id="menu">            <div class="ui segment">                <div class="ui form mini">                    <div class="field">                        <div class="ui checkbox radio">                            <input class="auth_rules check_all" type="checkbox" name="admin_rules[]" value="{$menu.id}" <if condition="$menu.check_status eq 1">checked</if>>                            <label class="ui">{$menu.descr}</label>                        </div>                    </div>                    <div class="ui divider"></div>                    <div class="grouped fields" style="margin-left: 20px">                        <notempty name="menu['child']">                            <volist name="menu['child']" id="child">                                <div class="ui field">                                    <div class="ui checkbox radio">                                        <input class="auth_rules check_one" type="checkbox" name="admin_rules[]" value="{$child.id}" <if condition="$child.check_status eq 1">checked</if>>                                        <label>{$child.descr}</label>                                    </div>                                </div>                            </volist>                        </notempty>                    </div>                </div>            </div>        </volist>        <input type="hidden" name="role_id" value="{:input('role_id')}"/>        <button class="ui button ajax-post positive mini" onclick="return false" data-url="{:url('admin/Role/accessHandle')}">确 定</button>        <button class="ui button mini" onclick="history.back(-1);return false;">返 回</button>    </form></block><block name="script">    <script>        //全选节点        $('.check_all').on('change', function () {            $(this).closest('.ui.form').find('.grouped.fields').find('input').prop('checked', this.checked);        });        //二级菜单选中一级菜单必选        $('.check_one').on('change', function () {            if ($(this).prop('checked') == true) {                $(this).closest('.ui.form').find('.field').find('.check_all').prop('checked', this.checked);            }        });        highlight_subnav("{:url('admin/Role/index')}");    </script></block>